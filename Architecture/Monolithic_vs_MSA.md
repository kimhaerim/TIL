# Monolithic (모놀리식 아키텍처)

- 전체 시스템이 하나의 단일 어플리케이션으로 구성됨
- 모든 기능이 하나의 애플리케이션 안에서 함께 동작함

## 장점

- 초기 개발이 간단하고 빠름
- 모든 기능이 같은 코드베이스에 있기 때문에 통합이 쉬움

## 단점

- 시스템 규모가 커질수록 관리가 어려움
- 특정 부분만 수정하려고 해도, 전체 시스템을 다시 빌드하고 배포해야 함
- 확장성이 부족하고, 장애 발생 시 전체 시스템에 영향이 있을 수 있음

# MSA (Microservices Architecture, 마이크로 서비스 아키텍처)

- 각 기능을 독립적인 서비스로 분리하여 독립적으로 개발, 배포, 운영함
- 각 서비스는 자신만의 데이터베이스와 비즈니스 로직을 가지고 있으며, 서로 API 통신

## 장점

- 독립적으로 배포할 수 있어 빠른 개발과 유연성 확보
- 서비스별로 확장 가능하며 장애가 발생해도 다른 서비스에 영향을 끼치지 않음
- 각 서비스가 독립적이므로 개발팀도 분리하여 작업할 수 있음

## 단점

- 시스템 복잡도가 높아지고 관리가 어려워짐
- 서비스 간 통신에서 네트워크 지연 (latency)이나 장애 처리에 신경 써야 함
- 여러 서비스를 관리하는데 DevOps나 CI/CD 파이프라인 등의 인프라 요구가 많음

# 모놀리식 아키텍처 VS 마이크로 서비스 아키텍처

### 스케일 아웃

- 시스템의 처리 능력을 확장하는 방법으로 여러 대의 서버를 추가하여 시스템을 확장함

### 1. 모놀리식의 스케일 아웃

- 스케일 아웃은 가능하지만 모든 기능이 하나의 애플리케이션에 포함되어 있기 때문에 시스템 확장을 위해서는 전체 애플리케이션을 여러 서버에 분배해야 함
- 서버가 많아져도 시스템 전체를 동일하게 확장해야 하므로 비효울적임
- ex) 사용자가 많아져서 서버를 추가해야 하는 경우, 서버는 전체 애플리케이션을 다 처리해야 함

### 2. 마이크로 서비스 아키텍처의 스케일 아웃

- 각 서비스가 독립적이기 때문에, 특정 서비스만 스케일 아웃이 가능함 -> 특정 트래픽이 많은 서비스만 확장하면 됨
- 확장성이 뛰어나고, 자원 효율성을 높이고, 비용 절감에 도움이 됨
- ex) 결제 시스템에 트래픽이 몰린다면, 결제 서비스만 확장하고 다른 서비스들은 그대로 운영하는 방식

## 의존성

- 서비스나 모듈 간에 서로 의존하는 관계
- 의존성 관리가 제대로 이루어지지 않으면, 변경이나 확장 시 시스템에 장애가 발생할 가능성이 큼

### 1. 모놀리식의 의존성

- 모든 코드가 하나의 코드 베이스에 통합되어 있기 때문에, 서비스 간 의존성이 긴밀하게 연결됨
- 하나의 모듈에서 문제가 발생하면 다른 모듈에도 연쇄적인 영향이 발생할 수 있음
- 의존성 관리가 어려워지고, 변경 시 테스트와 배포가 복잡해질 수 있음

### 2. 마이크로 서비스 아키텍처의 의존성

- 서비스 간 의존성은 API 호출이나 메시지 큐와 같은 방법을 통해 관리됨
- 서비스 간의 통신은 명확하게 정의된 인터페이스로 이루어지며, 독립적인 배포가 가능해짐
- 서비스 의존성 관리를 제대로 하지 않으면 오류가 전파되거나 시스템 장애가 발생할 수 있음

## 모놀리식과 MSA 아키텍처를 선택할 때 고려할 점

### 1. 서비스 규모와 복잡성

- 모놀리식
  - 소규모 서비스나 단일 책임을 가진 서비스에 적합
  - 코드베이스가 적고, 서비스 간 의존성이 적은 시스템
  - 기능이 적고, 서비스가 복잡해지면 관리가 어려움
  - 작은 팀이나 제한된 리소스로 빠르게 개발
- 마이크로 서비스
  - 대규모 서비스나 복잡한 서비스에 적합
  - 서비스가 독립적으로 배포되고, 팀 간 협업이 이루어질 때 유리
  - 각 서비스가 독립적으로 확장 가능하고, 서비스별 책임이 명확히 구분됨
  - 초기 개발은 복잡하고 시간이 많이 소요되지만, 장기적으로 확장성과 유지보수성이 뛰어남

### 2. 팀의 규모와 분업화

- 모놀리식
  - 작은 팀이거나 한 팀이 전체 시스템을 관리할 수 있는 경우에 적합
  - 모든 개발자가 전체 시스템을 이해할 수 있음
  - 팀 간 분업화가 어려운 경우 효율적인 관리가 가능
- 마이크로 서비스
  - 큰 팀이나 여러 팀이 각각 독립적으로 작업할 때 적합
  - 각 팀은 독립된 서비스를 관리할 수 있으며 서비스별 책임이 명확
  - 팀 간 협업과 서비스 통신을 잘 관리해야 하며, 팀이 분리되어 개발을 진행하는 경우 효과적

### 3. 데이터 관리

- 모놀리식
  - 단일 데이터베이스를 사용하는 경우가 많아 데이터 관리가 단순
  - 트랜잭션이나 데이터 일관성을 쉽게 관리할 수 있음
  - 하나의 데이터 베이스에 모든 데이터가 집중되어 있어 성능 저하나 장애가 발생하면 전체 서비스에 영향을 끼칠 수 있음
- 마이크로 서비스
  - 각 서비스가 독립적인 데이터베이스를 사용하여 데이터 일관성을 유지하는 것이 복잡
  - 분산 트랜잭션을 관리해야 하며, 각 서비스 간에 데이터를 어떻게 동기화할지 고민해야 함
  - 데이터베이스 분리로 인해 성능 최적화가 가능하지만, 관리가 복잡하고 데이터 일관성 문제를 해결해야 함
